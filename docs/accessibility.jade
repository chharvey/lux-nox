extends _docs.tpl.jade

block append vars
  - page_names.push('Accessibility')

block append main
  -
    function ratioDisplay(fg_color_obj, bg_color_obj) {
      return Math.round(fg_color_obj.contrastRatio(bg_color_obj)*100)/100
    }
    function dataRating(ratio) {
      var bounds = [3, 4.5, 7]
      var value = 1
      for (var i in bounds) {
        if (ratio >= bounds[i]) value += 1
      }
      return value
      if (ratio < 3.0)                 return 1
      if (3.0 <= ratio && ratio < 4.5) return 2
      if (4.5 <= ratio && ratio < 7.0) return 3
      if (7.0 <= ratio)                return 4
    }
  section
    -
      var rows = [
        scheme.Solarized.base01
      , scheme.Solarized.base00
      , scheme.Solarized.base0
      , scheme.Solarized.base1
      , scheme.Solarized.red
      , scheme.Solarized.orange
      , scheme.Solarized.yellow
      , scheme.Solarized.green
      , scheme.Solarized.cyan
      , scheme.Solarized.blue
      , scheme.Solarized.violet
      , scheme.Solarized.magenta
      , scheme.Lunarized.base01
      , scheme.Lunarized.base00
      , scheme.Lunarized.base0
      , scheme.Lunarized.base1
      , scheme.Lunarized.cyan
      , scheme.Lunarized.blue
      , scheme.Lunarized.indigo
      , scheme.Lunarized.violet
      , scheme.Lunarized.red
      , scheme.Lunarized.orange
      , scheme.Lunarized.yellow
      , scheme.Lunarized.green
      ]
      var cols = [
        scheme.Solarized.base03
      , scheme.Solarized.base02
      , scheme.Solarized.base2
      , scheme.Solarized.base3
      , scheme.Lunarized.base03
      , scheme.Lunarized.base02
      , scheme.Lunarized.base2
      , scheme.Lunarized.base3
      ]
    h2 Table of Contrast Ratios
    table.c-CrTable
      caption
        p.
          A demonstration of background colors and foreground colors.
          For brevity, the only background colors are Bases 03, 02, 2, and 3; and
          the only foreground colors are Bases 01, 00, 0, and 1, along with all accent colors.
          #[a(href="#contrast-ratio-table") Contrast ratios] are shown in each cell.
      colgroup
      colgroup
        each color in cols.slice(0,4)
          col(class=color.bg_class)
      colgroup
        each color in cols.slice(4)
          col(class=color.bg_class)
      thead
        tr
          td
          each color in cols
            th(scope="col")= color.name
      mixin tableRow(fg_color)
        - var fg_color_obj = Color.fromString(fg_color.code)
        tr(class=fg_color.fg_class)
          th(scope="row")= fg_color.name
          each bg_color in cols
            - var bg_color_obj = Color.fromString(bg_color.code)
            - var ratio = ratioDisplay(fg_color_obj,bg_color_obj)
            td(data-rating=dataRating(ratio))= ratio
      tbody
        each fg_color in rows.slice(0,12)
          +tableRow(fg_color)
      tbody
        each fg_color in rows.slice(12)
          +tableRow(fg_color)
    p The #[a(href="use.html") Suggested Use] page demonstrates the most accessible contrast ratios.
    table.-mh-a#contrast-ratio-table(style="font-size: 0.75rem; line-height: 2;")
      caption
        | A summary of #[a(href="http://leaverou.github.io/contrast-ratio/") contrast ratios].
        br
        small #[dfn Large text] is defined as above 18pt (24px), or above 14pt (19px) and bold.
      thead
        tr
          th(scope="col") Contrast Ratio
          th(scope="col") Level
          th(scope="col") Keyword
          th(scope="col") Description
      tbody
        tr
          td &#x005b;1, 3.0&#x0029;
          td 1
          td bad.
          td Fails #[a(href="https://www.w3.org/TR/WCAG/#visual-audio-contrast") WCAG 2.0]
        tr
          td &#x005b;3.0, 4.5&#x0029;
          td 2
          td okay&hellip;
          td Passes AA level for large text
        tr
          td &#x005b;4.5, 7.0&#x0029;
          td 3
          td good!
          td Passes AA level for any size text and AAA for large text
        tr
          td &#x005b;7.0, 21&#x005d;
          td 4
          td great!!
          td Passes AAA level for any size text
